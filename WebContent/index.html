<!DOCTYPE html>
<!-- saved from url=(0043)http://getbootstrap.com/examples/jumbotron/ -->
<html lang="en"><head><script src="./Jumbotron Template for Bootstrap_files/jquery.min.js"></script> <script src="./Jumbotron Template for Bootstrap_files/bootstrap.min.js"></script> <!--//--><script src="./Jumbotron Template for Bootstrap_files/ie10-viewport-bug-workaround.js"></script> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>DebugCityV1</title> 
<link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="http://getbootstrap.com/examples/jumbotron/jumbotron.css" rel="stylesheet">
<script src="./Jumbotron Template for Bootstrap_files/ie-emulation-modes-warning.js"></script> 
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi?.js"></script>

<script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
<link rel="stylesheet" href="css/bootstrap-multiselect.css" type="text/css"/>
<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
<!-- 
<script type="text/javascript">
    $(document).ready(function() {
        $('#multipleSelect').multiselect({
            buttonWidth: '200px',
            dropRight: true
        });
    });
</script>-->
<style>
	  
      #map-canvas {
      	height: 540px;
      	width: 100%;
        margin: 0;
        padding: 0;
      	position:relative;
      }

      .controls {
        border: 1px solid transparent;
        border-radius: 2px 0 0 2px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        height: 32px;
        outline: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
      	width: 225px;
      }
      
      #pac-input:focus {
        border-color: #4d90fe;
      }
      
</style>

<script>
    
   flag=0;
   	var myloc,res=null;
    xmlhttp=new XMLHttpRequest();
 	var url = "FilterCategory";

 	var onloadData=new Object();
 	onloadData["category"]="";
 	onloadData["location"]="";
 	
 	xmlhttp.onreadystatechange=function() {
 	    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
 	    		var json = JSON.parse(xmlhttp.responseText);
 				uniloc=json.uniloc;
 				//console.log(uniloc);
 				loc=json.obj;
 				catobj=json.catobj;
 				//console.log(catloc);
 		
 				if (navigator.geolocation)
	 		    {
	 			        navigator.geolocation.getCurrentPosition(showSpider);
	 			}
 	    }
 	}
 	
 	
 	xmlhttp.open("POST", url, true);
 	xmlhttp.responseType ="JSON";
 	xmlhttp.send(JSON.stringify(onloadData));	
 	
 	
 	function showSpiderCurrentLocation(position)
 	{
 		var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var coords = new google.maps.LatLng(latitude, longitude);
 	  	var mapOptions = {
             zoom: 17,
             center: coords,
             mapTypeControl: true,
             mapTypeId: google.maps.MapTypeId.ROADMAP};
     
     		 map = new google.maps.Map(
             document.getElementById('map-canvas'), mapOptions
             );
             //place the initial marker
             var marker = new google.maps.Marker({
             position: coords,
             map: map,
             title: "Current location!"
             });
             
             var infowindow = new google.maps.InfoWindow({
            	    content: ''
            	  });
            
             bindInfoWindow(marker, map, infowindow, "<h3>Your current location !</h3><p><b> latitude:</b> " + latitude +"<b>,</b> <b>longitude:</b> "+ longitude + "</p>");  
         	
            	
          	 //var bounds = new google.maps.LatLngBounds();
          	 bounds.extend(coords);
          	 //var count=0;
      		
          	 
          	var geocoder = new google.maps.Geocoder();
            var lat = '';
            var lng = '';
            for(u=0;u<uniloc.length;u++)
            {	
            geocoder.geocode( { 'address': ''+uniloc[u]+', india'}, function(results, status) {
              if (status == google.maps.GeocoderStatus.OK) {
                 lat = results[0].geometry.location.lat();
                 lng = results[0].geometry.location.lng();
                 //alert('Latitude: ' + lat + ' Logitude: ' + lng); 
           		 var position = new google.maps.LatLng(lat, lng);
           		 bounds.extend(position);
           		 var marker = new google.maps.Marker({
            		 map: map,
            		 icon: {
                			url: 'http://maps.google.com/mapfiles/kml/pal4/icon47.png',
            				size:new google.maps.Size(71, 71),
            				origin:new google.maps.Point(0, 0),
            				anchor:new google.maps.Point(17, 34),
            				scaledSize:new google.maps.Size(37, 37)
            		 },
            		 title: "Star",
            		 position: position
          		 });
         		 var spiderwindow = new google.maps.InfoWindow({
             	    content: ''
             	 });
          		 bindSpiderWindow(marker, map, spiderwindow, "<b>Spider graph</b>");        
              }
              else {
                alert("Geocode was not successful for the following reason: " + status);
              }
            });
            } 
            
            //var bounds = new google.maps.LatLngBounds();
        	  bounds.extend(coords);
        	  var count=0;
    		  for(var i = 0; i < markers1.length; i++ ) {
                // Create a marker for each place.
              if(markers1[i][0]!=0)
			    {
              	
			    	count=1;
			    	if(markers2[i][0]=="garbage" || markers2[i][0]=="Garbage")			    		
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="noise" || markers2[i][0]=="Noise")
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="queues" || markers2[i][0]=="Queues")
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/orange-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="spitting" || markers2[i][0]=="Spitting")
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/pink-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="traffic" || markers2[i][0]=="Traffic")
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else
			    	{
                		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                		var marker = new google.maps.Marker({
			        		map: map,
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    }
              
    	    }
    		  
    		var clientHeight = document.getElementById('map-canvas').clientHeight;
    		var clientWidth = document.getElementById('map-canvas').clientWidth;
    
    		var mapDim = {
    			    height: clientHeight,
    			    width: clientWidth
    			}

      		var reszoom=15;
      		 // Override our map zoom level once our fitBounds function runs (Make sure it only runs once)
      	    var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function(event) {
      	        //if(count!=0)
	      	    //{
	      	    	reszoom=getBoundsZoomLevel(bounds, mapDim)-1;
	      	        if(reszoom > 15)
	      	    		reszoom=15;
	      	    //}
	      	    this.setZoom(reszoom);
      	        google.maps.event.removeListener(boundsListener);
      	    });
      		
      		{
	      		map.fitBounds(bounds); 
	       	    google.maps.event.addListener(map, 'bounds_changed', function() {
				     var bounds = map.getBounds();
				     //map.setBounds(bounds);
			    });
      		}
      		
         	 var geocoder = new google.maps.Geocoder();
           var latLng = new google.maps.LatLng(latitude, longitude);
           geocoder.geocode( { 'latLng': latLng}, function(results, status) {
           	if (status == google.maps.GeocoderStatus.OK) {
         			 if (results[0]) {
          			document.getElementById('pac-input').value=results[0].formatted_address;
          		}
        			else{
      	  			document.getElementById('pac-input').value="Geocode was unsucessfull in detecting your current location";
             		}
        		}
    	  	});  	
      	
          initialize(latitude, longitude);

   
 	}
 	
 	var bounds = new google.maps.LatLngBounds();
    
 	function showSpider(position)
 	{
 	
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            
     	if(flag==1)
        {    	
            var coords = new google.maps.LatLng(latitude, longitude);
     	  	var mapOptions = {
                 zoom: 17,
                 center: coords,
                 mapTypeControl: true,
                 mapTypeId: google.maps.MapTypeId.ROADMAP};
         
         		 map = new google.maps.Map(
                 document.getElementById('map-canvas'), mapOptions
                 );
                 //place the initial marker
                 var marker = new google.maps.Marker({
                 position: coords,
                 map: map,
                 title: "Current location!"
                 });
                 
                 var infowindow = new google.maps.InfoWindow({
                	    content: ''
                	  });
                
                 bindInfoWindow(marker, map, infowindow, "<h3>Your current location !</h3><p><b> latitude:</b> " + latitude +"<b>,</b> <b>longitude:</b> "+ longitude + "</p>");  
             	
                	
              	 bounds.extend(coords);
              	 //var count=0;
          		
              	 
              	var geocoder = new google.maps.Geocoder();
                var lat = '';
                var lng = '';
                for(u=0;u<uniloc.length;u++)
                {	
                geocoder.geocode( { 'address': ''+uniloc[u]+', india'}, function(results, status) {
                  if (status == google.maps.GeocoderStatus.OK) {
                     lat = results[0].geometry.location.lat();
                     lng = results[0].geometry.location.lng();
                     //alert('Latitude: ' + lat + ' Logitude: ' + lng); 
               		 var position = new google.maps.LatLng(lat, lng);
               		 bounds.extend(position);
               		 //pos=position;
               		 var marker = new google.maps.Marker({
                		 map: map,
                		 icon: {
                    			url: 'http://maps.google.com/mapfiles/kml/pal4/icon47.png',
                				size:new google.maps.Size(71, 71),
                				origin:new google.maps.Point(0, 0),
                				anchor:new google.maps.Point(17, 34),
                				scaledSize:new google.maps.Size(37, 37)
                		 },
                		 title: "Star",
                		 position: position
              		 });
             		 var spiderwindow = new google.maps.InfoWindow({
                 	    content: ''
                 	 });
              		 bindSpiderWindow(marker, map, spiderwindow, "<b>Spider graph</b>");        
                  
                  
               		/* google.maps.event.addListener(marker, 'click', function() {
               	      drawChart(this);
               	    });*/
                  }
                  else {
                    alert("Geocode was not successful for the following reason: " + status);
                  }
                });
                } 
                
                //bounds.extend(pos);
          		var clientHeight = document.getElementById('map-canvas').clientHeight;
          		var clientWidth = document.getElementById('map-canvas').clientWidth;
          	
          		var mapDim = {
          			    height: clientHeight,
          			    width: clientWidth
          		}
          		 // Override our map zoom level once our fitBounds function runs (Make sure it only runs once)

          		var reszoom=15;
          		 // Override our map zoom level once our fitBounds function runs (Make sure it only runs once)
          	    var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function(event) {
          	        //if(count!=0)
    	      	    //{
    	      	    	reszoom=getBoundsZoomLevel(bounds, mapDim)-1;
    	      	        if(reszoom > 15)
    	      	    		reszoom=15;
    	      	    //}
    	      	    this.setZoom(reszoom);
          	        google.maps.event.removeListener(boundsListener);
          	    });
          		
          		{
    	      		map.fitBounds(bounds); 
    	       	    google.maps.event.addListener(map, 'bounds_changed', function() {
    				     var bounds = map.getBounds();
    				     //map.setBounds(bounds);
    			    });
          		} 		
    }
     			var geocoder = new google.maps.Geocoder();
                var latLng = new google.maps.LatLng(latitude, longitude);
                geocoder.geocode( { 'latLng': latLng}, function(results, status) {
                 	if (status == google.maps.GeocoderStatus.OK) {
               			 if (results[0]) {
               				for (i = 0; i < results[0].address_components.length; i++) {
    		                    	if (results[0].address_components[i].types[0] == 'postal_code')
    		                    	{
    		                    		//alert("Zip Code: " + results[0].address_components[j].short_name);
    		                    		res=results[0].address_components[i].short_name;
    		                    		break;
    		                    	}
    		                	}
               				document.getElementById('pac-input').value=results[0].formatted_address;
                		}
              			else{
            	  			document.getElementById('pac-input').value="Geocode was unsucessfull in detecting your current location";
                   		}
              		}
                 	if(flag==0)
                 	{	
                 		flag=1;
                 		addCurrentLoc(res);
                 	}
                 	//alert(res);
          	  	});  	
                initialize(latitude, longitude);	       	
        
 	}
 	
 var x=0;	
 function addCurrentLoc(res)
 {
	 myloc=res;

	 //console.log(myloc);
	 //console.log(loc);
	 
	 $('#multipleSelectLoc')
     .append($("<option selected></option>")
     .attr("value",myloc)
     .text(myloc)); 

		$.each(loc, function(key, value) {   
			if(key!=myloc)
			{
		     $('#multipleSelectLoc')
		         .append($("<option></option>")
		         .attr("value",key)
		         .text(value));
			} 
		});
		
		$(document).ready(function() {
	 	    $('#multipleSelectLoc').multiselect({
	 	        buttonWidth: '200px',
	 	        dropRight: true
	 	    });
	 	});
		
		$('#multipleSelect')
	     .append($("<option selected></option>")
	     .attr("value","Spider")
	     .text("Spider Chart")); 

		$.each(catobj, function(key, value) {   
		     $('#multipleSelect')
		         .append($("<option></option>")
		         .attr("value",key)
		         .text(value)); 
		});
		
		$(document).ready(function() {
	 	    $('#multipleSelect').multiselect({
	 	        buttonWidth: '200px',
	 	        dropRight: true
	 	    });
	 	});
		
		filterCat();
 }

 /*	function drawChart(marker) {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
          ['Mushrooms', 3],
          ['Onions', 1],
          ['Olives', 1],
          ['Zucchini', 1],
          ['Pepperoni', 2]
        ]);

        // Set chart options
        var options = {'title':'Pizza sold @ '+
                               marker.getPosition().toString(),
                       'width':400,
                       'height':150};
                       
        var node        = document.createElement('div'),
            infoWindow  = new google.maps.InfoWindow(),
            chart       = new google.visualization.PieChart(node);
            
            chart.draw(data, options);
            infoWindow.setContent(node);
            infoWindow.open(marker.getMap(),marker);
      }

   */ function showCurrentLocation(position)
    {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var coords = new google.maps.LatLng(latitude, longitude);
 	  	var mapOptions = {
             zoom: 17,
             center: coords,
             mapTypeControl: true,
             mapTypeId: google.maps.MapTypeId.ROADMAP};
     
     		 map = new google.maps.Map(
             document.getElementById('map-canvas'), mapOptions
             );
             //place the initial marker
             var marker = new google.maps.Marker({
             position: coords,
             map: map,
             title: "Current location!"
             });
             
             var infowindow = new google.maps.InfoWindow({
            	    content: ''
            	  });
            
             bindInfoWindow(marker, map, infowindow, "<h3>Your current location !</h3><p><b> latitude:</b> " + latitude +"<b>,</b> <b>longitude:</b> "+ longitude + "</p>");  
         	
            	
          	  var bounds = new google.maps.LatLngBounds();
          	  bounds.extend(coords);
          	  var count=0;
      		  for(var i = 0; i < markers1.length; i++ ) {
                  // Create a marker for each place.
                if(markers1[i][0]!=0)
			    {
                	
			    	count=1;
			    	if(markers2[i][0]=="garbage" || markers2[i][0]=="Garbage")			    		
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="noise" || markers2[i][0]=="Noise")
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="queues" || markers2[i][0]=="Queues")
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/orange-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="spitting" || markers2[i][0]=="Spitting")
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/pink-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else if(markers2[i][0]=="traffic" || markers2[i][0]=="Traffic")
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		icon: {
			            			url: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
			        				size:new google.maps.Size(71, 71),
			        				origin:new google.maps.Point(0, 0),
			        				anchor:new google.maps.Point(17, 34),
			        				scaledSize:new google.maps.Size(37, 37)
			        		},
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    	else
			    	{
                  		var position = new google.maps.LatLng(markers1[i][1], markers1[i][2]);
			     		bounds.extend(position);
                  		var marker = new google.maps.Marker({
			        		map: map,
			        		title: ""+markers1[i][0]+"",
			        		position: position
			      		});
                  		bindInfoWindow(marker, map, infowindow, "<table><tr><th align='right'>id: </th><td>" + markers1[i][0] +"</td><tr><th align='right'>lat: </th><td>"+ markers1[i][1] + "</td></tr><tr><th align='right'>long: </th><td>"+ markers1[i][2] + "</td></tr><tr><th align='right'>category: </th><td>"+ markers2[i][0] + "</td></tr><tr><th align='right'>picture: </th><td><img src="+ markers2[i][1] +" width='80' ></td></tr><tr><th align='right'>locality: </th><td>"+ markers2[i][2] + "</td></tr><tr><th align='right'>submitter: </th><td>"+ markers2[i][3] + "</td></tr><tr><th align='right'>owner: </th><td>"+ markers2[i][4] + "</td></tr><tr><th align='right'>state: </th><td>"+ markers2[i][5] + "</td></tr><tr><th align='right'>date_created: </th><td>"+ markers2[i][6] + "</td></tr><th align='right'>date_closed: </th><td>"+ markers2[i][7] + "</td></tr><tr><th align='right'>severity: </th><td>"+ markers1[i][3] + "</td></tr><tr><th align='right'>notes: </th><td>"+ markers2[i][8] + "</td></tr><tr><th align='right'>votes: </th><td>"+ markers1[i][4] + "</td></tr></table>");  
			    	}
			    }
                
      	    }
      		  
      		var clientHeight = document.getElementById('map-canvas').clientHeight;
      		var clientWidth = document.getElementById('map-canvas').clientWidth;
      
      		var mapDim = {
      			    height: clientHeight,
      			    width: clientWidth
      			}

      		var reszoom=15;
      		 // Override our map zoom level once our fitBounds function runs (Make sure it only runs once)
      	    var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function(event) {
      	        if(count!=0)
	      	    {
	      	    	reszoom=getBoundsZoomLevel(bounds, mapDim)-1;
	      	        if(reszoom > 15)
	      	    		reszoom=15;
	      	    }
	      	    this.setZoom(reszoom);
      	        google.maps.event.removeListener(boundsListener);
      	    });
      		
      		{
	      		map.fitBounds(bounds); 
	       	    google.maps.event.addListener(map, 'bounds_changed', function() {
				     var bounds = map.getBounds();
				     //map.setBounds(bounds);
			    });
      		}
      		
           	 var geocoder = new google.maps.Geocoder();
             var latLng = new google.maps.LatLng(latitude, longitude);
             geocoder.geocode( { 'latLng': latLng}, function(results, status) {
             	if (status == google.maps.GeocoderStatus.OK) {
           			 if (results[0]) {
            			document.getElementById('pac-input').value=results[0].formatted_address;
            		}
          			else{
        	  			document.getElementById('pac-input').value="Geocode was unsucessfull in detecting your current location";
               		}
          		}
      	  	});  	
        	
            initialize(latitude, longitude);
    }	       	
    
function initialize(lat, lng) {
//alert("initialize");
  var markers = [];
  
  var input = (
      				document.getElementById('pac-input'));
  					//map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
					
  					var searchBox = new google.maps.places.SearchBox((input));

  					google.maps.event.addListener(searchBox, 'places_changed', function() {
    					var places = searchBox.getPlaces();

					    if (places.length == 0) {
					      return;
					    }
					    for (var i = 0, marker; marker = markers[i]; i++) {
					      marker.setMap(null);
					    }
					
					    // For each place, get the icon, place name, and location.
					    markers = [];
					    var bounds = new google.maps.LatLngBounds();
					    for (var i = 0, place; place = places[i]; i++) {
					      
					      // Create a marker for each place.
					      bounds.extend(place.geometry.location);
						    
					      var marker = new google.maps.Marker({
					        map: map,
					        //icon: image,
					        title: place.name,
					        position: place.geometry.location
					      });
							
					      
					      markers.push(marker);
					
					      map.fitBounds(bounds);
							
					    }
					
					   
				  	    var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function(event) {
			      	        this.setZoom(7);
			      	        google.maps.event.removeListener(boundsListener);
			      	    });
  					});
  
 				 google.maps.event.addListener(map, 'bounds_changed', function() {
			     var bounds = map.getBounds();
		  		 
			     searchBox.setBounds(bounds);
  		});
  		
}


function bindInfoWindow(marker, map, infowindow, html) { 
	google.maps.event.addListener(marker, 'mouseover', function() { 
		infowindow.setContent(html); 
		infowindow.open(map, marker); 
	}); 
	
	google.maps.event.addListener(marker, 'mouseout', function() {
		infowindow.close();
	});

} 

function bindSpiderWindow(marker, map, spiderwindow, html) { 
	google.maps.event.addListener(marker, 'click', function() { 
		spiderwindow.setContent(html); 
		spiderwindow.open(map, marker); 
	}); 
	
} 


function getBoundsZoomLevel(bounds, mapDim) {
	    var WORLD_DIM = { height: 256, width: 256 };
	    var ZOOM_MAX = 21;

	    function latRad(lat) {
	        var sin = Math.sin(lat * Math.PI / 180);
	        var radX2 = Math.log((1 + sin) / (1 - sin)) / 2;
	        return Math.max(Math.min(radX2, Math.PI), -Math.PI) / 2;
	    }

	    function zoom(mapPx, worldPx, fraction) {
	        return Math.floor(Math.log(mapPx / worldPx / fraction) / Math.LN2);
	    }

	    var ne = bounds.getNorthEast();
	    var sw = bounds.getSouthWest();

	    var latFraction = (latRad(ne.lat()) - latRad(sw.lat())) / Math.PI;

	    var lngDiff = ne.lng() - sw.lng();
	    var lngFraction = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;

	    var latZoom = zoom(mapDim.height, WORLD_DIM.height, latFraction);
	    var lngZoom = zoom(mapDim.width, WORLD_DIM.width, lngFraction);

	    return Math.min(latZoom, lngZoom, ZOOM_MAX);
	}



function filterCat()
{
	var test = $("#multipleSelect option:selected").length;
	var testLoc = $("#multipleSelectLoc option:selected").length;
	if ( !(test > 0 && testLoc > 0))
	{
	   alert("Please select atleast one location and one category to filter.");
	}
	else
		{	
		var starflag=0;
		var selectedValues = $('#multipleSelect').val();
		var selectedValuesLoc = $('#multipleSelectLoc').val();
		
		if(selectedValues!=null)
			flag=1;
		else
			selectedValues="Spider";
		
		var category=selectedValues;
		var location=selectedValuesLoc;
	    var url=null;
	    
		var filterCatData=new Object();
		
		var cat="";
		var loc="";
			
		for(var m=0;m<category.length;m++)
		{
			cat=cat+category[m]+" ";
		}
		
		for(var m=0;m<location.length;m++)
		{
			loc=loc+location[m]+" ";
		}
		
		//console.log(loc);
		
		if(category[0]=="Spider")
			starflag=1;
			
		filterCatData["category"]=cat;
		filterCatData["location"]=loc;
		
		if(selectedValues!="Spider")
		{	
			if(starflag==0)
			{	
					url = "FilterCategory";
					xmlhttp.onreadystatechange=function() {
				    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
							//alert(xmlhttp.responseText);
							var json = JSON.parse(xmlhttp.responseText);
							alert("Showing "+json.no+" incidents for Category: "+json.category+"");
							markers1=json.arr1;
			 				markers2=json.arr2;
			 				if (navigator.geolocation)
			 			    {
			 			        navigator.geolocation.getCurrentPosition(showCurrentLocation);
			 			    }			
					}
				}
					xmlhttp.open("POST", url, true);
					xmlhttp.responseType ="JSON";
					xmlhttp.send(JSON.stringify(filterCatData));
				
			}	
			else
			{
				url = "FilterCategory";
				xmlhttp.onreadystatechange=function() {
			    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
						//alert(xmlhttp.responseText);
						var json = JSON.parse(xmlhttp.responseText);
						alert("Showing "+json.no+" incidents for Category: "+json.category+" with Spider Graphs based on the locations.");
						markers1=json.arr1;
		 				markers2=json.arr2;
		 				uniloc=json.uniloc;
		 				if (navigator.geolocation)
		 			    {
		 			        navigator.geolocation.getCurrentPosition(showSpiderCurrentLocation);
		 			    }
		 			}
				}
		
				xmlhttp.open("POST", url, true);
				xmlhttp.responseType ="JSON";
				xmlhttp.send(JSON.stringify(filterCatData));
				
			}
					
		}
		else
		{	
				url = "FilterCategory";
				xmlhttp.onreadystatechange=function() {
			    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
						//alert(xmlhttp.responseText);
						var json = JSON.parse(xmlhttp.responseText);
						uniloc=json.uniloc;
		 				if(x==1)
							alert("Showing Spider Graphs based on the selected locations.");
		 				else
		 					//alert("Showing Spider Graph of your current location.");
		 				x=1;
						if (navigator.geolocation)
		 		 	    {
		 		 	        navigator.geolocation.getCurrentPosition(showSpider);
		 		 	    }	
				}
			}		
			xmlhttp.open("POST", url, true);
			xmlhttp.responseType ="JSON";
			xmlhttp.send(JSON.stringify(filterCatData));
		}
	}
}


//google.load('visualization', '1.0', {'packages':['corechart']});

//google.maps.event.addDomListener(window, 'load', initialize);

</script>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
		<div class="navbar-header pull-left">
			<a class="navbar-brand" href="#"><b>DebugCityV1</b></a>
		</div>
		<div class="navbar-header pull-right">
			<ul class="nav navbar-nav pull-left">
				<li><a class="" href="admin.html">Admin&nbsp;</a></li>
			</ul>
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            	<span class="icon-bar"></span>
            	<span class="icon-bar"></span>
            	<span class="icon-bar"></span>
          	</button>
         </div>
         <div class="navbar-collapse collapse">
         	
         	<div class="navbar-right">
         		<ul class="nav navbar-nav">
         			<li><a href="spider.html">Spider Graph</a></li> 
         			<li><a href="SubmitBug.jsp">Submit Bug</a></li> 
         			<li><a href="DebugCityv1.20150723.apk">Download App</a></li> 
         		</ul>
         	</div>
        </div>
   </div>
</div>
<div class="jumbotron">
	<center>
 		<h1>"Together we can fix our City"</h1>
  		<p>"Report Problems. Take Ownership. Live Better."</p>
  		<p><a class="btn btn-primary btn-lg" href="SubmitBug.jsp" role="button">Submit Bug</a></p>
	</center> 
</div>
<div class="container">
	<div id="map-canvas" ></div>
	<div style="max-width: 895px;margin-top:-531px;margin-left:120px;position:relative;">
		<select id="multipleSelectLoc" style="position:relative;" name="multipleSelectLoc" multiple="multiple">
		</select>	
		<select id="multipleSelect" style="position:relative;" name="multipleSelect" multiple="multiple">
			<!--<option value="Spider" selected>Spider Chart</option><option value="Garbage">Garbage</option><option value="Noise">Noise</option><option value="Queues">Queues</option><option value="Spitting">Spitting</option><option value="Traffic">Traffic</option>
		--></select>
		<input style="position:relative;" type="button" id="filtercategory" class="btn btn-default" onclick="filterCat();" value="Filter">	
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input style="position:relative;" id="pac-input" class="controls" type="text" placeholder="Search Locations">
	</div>
</div>
<div class="container" style="position:relative;margin-top:500px;">
	<center><footer><hr><font style="color:grey;"><p>Â© Grey Labs LLP. All Rights Reserved.</p></font></footer></center>
</div>
</body>
</html>